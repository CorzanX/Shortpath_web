{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      txtData: ''\n    };\n  },\n  methods: {\n    beforeUpload(file) {\n      // 只接受txt文件\n      const isTxt = file.type === 'text/plain';\n      if (!isTxt) {\n        this.$message.error('只能上传txt文件');\n      }\n      return isTxt;\n    },\n    handleSuccess(response, file) {\n      axios.post('http://localhost:8088/cmp').then(response => {\n        this.txtData = response.data;\n      }).catch(error => {\n        this.txtData = error.message;\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","txtData","methods","beforeUpload","file","isTxt","type","$message","error","handleSuccess","response","post","then","catch","message"],"sources":["src/components/Algcmp_stp.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>example</h1>\n        <el-upload\n            class=\"upload-demo\"\n            action=\"http://localhost:8088/cmp\"\n            :on-success=\"handleSuccess\"\n            :before-upload=\"beforeUpload\"\n            \n            >\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n            <div slot=\"tip\" class=\"el-upload__tip\">只能上传txt文件，且不超过500kb</div>\n        </el-upload>\n        <div v-if=\"txtData\">{{ txtData }}</div>\n    </div>\n</template>\n\n\n<script>\n  import axios from 'axios';\n  export default {\n    data() {\n      return {\n        txtData: '',\n      };\n    },\n    methods: {\n      beforeUpload(file) {\n        // 只接受txt文件\n        const isTxt = file.type === 'text/plain';\n        if (!isTxt) {\n          this.$message.error('只能上传txt文件');\n        }\n        return isTxt;\n      },\n      handleSuccess(response, file) {\n       axios.post('http://localhost:8088/cmp',)\n       .then(response => {\n         this.txtData = response.data;\n       })\n       .catch(error => {\n         this.txtData = error.message;\n       })\n      },\n    }\n  }\n</script>"],"mappings":"AAmBA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAAC,IAAA;MACA;MACA,MAAAC,KAAA,GAAAD,IAAA,CAAAE,IAAA;MACA,KAAAD,KAAA;QACA,KAAAE,QAAA,CAAAC,KAAA;MACA;MACA,OAAAH,KAAA;IACA;IACAI,cAAAC,QAAA,EAAAN,IAAA;MACAL,KAAA,CAAAY,IAAA,8BACAC,IAAA,CAAAF,QAAA;QACA,KAAAT,OAAA,GAAAS,QAAA,CAAAV,IAAA;MACA,GACAa,KAAA,CAAAL,KAAA;QACA,KAAAP,OAAA,GAAAO,KAAA,CAAAM,OAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}