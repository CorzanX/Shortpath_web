{"ast":null,"code":"import * as d3 from 'd3';\nexport default {\n  data() {\n    return {\n      nodes: [{\n        id: 0,\n        name: 'A'\n      }, {\n        id: 1,\n        name: 'B'\n      }, {\n        id: 2,\n        name: 'C'\n      }, {\n        id: 3,\n        name: 'D'\n      }, {\n        id: 4,\n        name: 'E'\n      }],\n      links: [{\n        source: 0,\n        target: 1\n      }, {\n        source: 1,\n        target: 2\n      }, {\n        source: 2,\n        target: 3\n      }, {\n        source: 3,\n        target: 4\n      }, {\n        source: 4,\n        target: 0\n      }, {\n        source: 0,\n        target: 3\n      }],\n      width: 500,\n      height: 500,\n      simulation: null,\n      link: null,\n      node: null,\n      label: null\n    };\n  },\n  mounted() {\n    this.initGraph();\n  },\n  methods: {\n    initGraph() {\n      // 创建力导向布局算法\n      this.simulation = d3.forceSimulation(this.nodes).force(\"link\", d3.forceLink(this.links).id(d => d.id).distance(100).strength(1).direction(\"target\")).force(\"charge\", d3.forceManyBody().strength(-500)).force(\"center\", d3.forceCenter(150, 150));\n\n      // 创建SVG元素\n      const svg = d3.select(this.$refs.svg);\n\n      // 创建边\n      this.link = svg.selectAll(\"line\").data(this.links).enter().append(\"line\").attr(\"stroke\", \"#999\").attr(\"marker-end\", \"url(#arrow)\");\n\n      // 创建节点\n      this.node = svg.selectAll(\"circle\").data(this.nodes).enter().append(\"circle\").attr(\"r\", 20).attr(\"fill\", \"lightblue\").call(d3.drag().on(\"start\", this.dragstart).on(\"drag\", this.dragged).on(\"end\", this.dragend));\n\n      // 添加文本标签\n      this.label = svg.selectAll(null).data(this.nodes).enter().append(\"text\").attr(\"text-anchor\", \"middle\").attr(\"font-size\", \"12px\").attr(\"dy\", \"-1.5em\").text(d => d.name);\n\n      // 将节点和边绑定到力导向布局\n      this.simulation.nodes(this.nodes).on(\"tick\", this.ticked);\n      this.simulation.force(\"link\").links(this.links);\n    },\n    ticked() {\n      this.link.attr(\"x1\", d => d.source.x).attr(\"y1\", d => d.source.y).attr(\"x2\", d => d.target.x).attr(\"y2\", d => d.target.y);\n      this.node.attr('cx', d => d.x).attr('cy', d => d.y);\n      this.label.attr('x', d => d.x).attr('y', d => d.y);\n    },\n    dragstart(d) {\n      if (!d3.event.active) this.simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    },\n    dragged(d) {\n      d.x = d3.event.x;\n      d.y = d3.event.y;\n    },\n    dragend(d) {\n      if (!d3.event.active) this.simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n  }\n};","map":{"version":3,"names":["d3","data","nodes","id","name","links","source","target","width","height","simulation","link","node","label","mounted","initGraph","methods","forceSimulation","force","forceLink","d","distance","strength","direction","forceManyBody","forceCenter","svg","select","$refs","selectAll","enter","append","attr","call","drag","on","dragstart","dragged","dragend","text","ticked","x","y","event","active","alphaTarget","restart","fx","fy"],"sources":["src/components/AlgIntro.vue"],"sourcesContent":["<template>\n  <div>\n      <el-container>\n          <el-container>\n            <el-aside width=\"200px\">\n              <el-menu :default-openeds=\"['1']\">\n                  <el-submenu index=\"1\">\n                    <template slot=\"title\"><i class=\"el-icon-message\"></i>Linear structure</template>\n                    <el-menu-item-group>\n                      <el-submenu index=\"1-1\">\n                        <template slot=\"title\">list</template>\n                        <el-menu-item index=\"1-1-1\">list reverse</el-menu-item>\n                        <el-menu-item index=\"1-1-2\">list merge</el-menu-item>\n                      </el-submenu>\n                      <el-submenu index=\"1-2\">\n                        <template slot=\"title\">queue</template>\n                        <el-menu-item index=\"1-2-1\">queue class</el-menu-item>\n                        <el-menu-item index=\"1-2-2\">Pascal's Triangle</el-menu-item>\n                      </el-submenu>\n                      <el-submenu index=\"1-3\">\n                        <template slot=\"title\">stack</template>\n                        <el-menu-item index=\"1-3-1\">stack class</el-menu-item>\n                        <el-menu-item index=\"1-3-2\">Analog computer</el-menu-item>\n                      </el-submenu>\n                    </el-menu-item-group>\n                  </el-submenu>\n                  <el-submenu index=\"2\">\n                    <template slot=\"title\"><i class=\"el-icon-menu\"></i>Tree structure</template>\n                    <el-menu-item-group>\n                      <el-submenu index=\"2-1\">\n                        <template slot=\"title\">Binary tree</template>\n                        <el-menu-item index=\"2-1-1\">Traversal</el-menu-item>\n                        <el-menu-item index=\"2-1-2\">BST</el-menu-item>\n                        <el-menu-item index=\"2-1-3\">heap</el-menu-item>\n                      </el-submenu>\n                      <el-submenu index=\"2-2\">\n                        <template slot=\"title\">other trees</template>\n                        <el-menu-item index=\"2-2-1\">Trie tree</el-menu-item>\n                        <el-menu-item index=\"2-3-1\">B tree</el-menu-item>\n                        <el-menu-item index=\"2-4-1\">B+ tree</el-menu-item>\n                      </el-submenu>\n                    </el-menu-item-group>\n                    \n                  </el-submenu>\n                  <el-submenu index=\"3\">\n                    <template slot=\"title\"><i class=\"el-icon-setting\"></i>Gragh</template>\n                    <el-menu-item-group>\n                      <el-submenu index=\"3-1\">\n                        <template slot=\"title\">Search</template>\n                        <el-menu-item index=\"3-1-1\">DFS</el-menu-item>\n                        <el-menu-item index=\"3-1-2\">BFS</el-menu-item>\n                      </el-submenu>\n                      <el-submenu index=\"3-2\">\n                        <template slot=\"title\">Minimum Spanning Tree</template>\n                        <el-menu-item index=\"3-2-1\">Kruskal</el-menu-item>\n                        <el-menu-item index=\"3-2-2\">Prime</el-menu-item>\n                      </el-submenu>\n                      <el-submenu index=\"3-3\">\n                        <template slot=\"title\">Shortest Path</template>\n                        <el-menu-item index=\"3-3-1\">Dijkstra</el-menu-item>\n                        <el-menu-item index=\"3-3-2\">Floyd</el-menu-item>\n                        <el-menu-item index=\"3-3-3\">SPFA</el-menu-item>\n                        <el-menu-item index=\"3-3-4\">Bellman-Ford</el-menu-item>\n                      </el-submenu>\n                    </el-menu-item-group>\n                  </el-submenu>\n                </el-menu>\n            </el-aside>\n            <el-container>\n              <el-main >\n                <div>\n                  <svg  ref=\"svg\" width=\"300\" height=\"300\"></svg>\n                  <h1>graph1</h1>\n                </div>\n                \n              </el-main>\n            </el-container>\n          </el-container>\n        </el-container>          \n  </div>\n</template>\n\n<style>\n  .el-header, .el-footer {\n    background-color: #B3C0D1;\n    color: #333;\n    text-align: center;\n    line-height: 60px;\n  }\n  \n  .el-aside {\n    background-color: #D3DCE6;\n    color: #333;\n    text-align: center;\n    line-height: 200px;\n  }\n  \n  .el-main {\n    background-color: #E9EEF3;\n    color: #333;\n    text-align: center;\n  }\n  \n  body > .el-container {\n    margin-bottom: 40px;\n  }\n  \n  .el-container:nth-child(5) .el-aside,\n  .el-container:nth-child(6) .el-aside {\n    line-height: 260px;\n  }\n\n\n  .el-container:nth-child(7) .el-aside {\n    line-height: 320px;\n  }\n</style>\n\n<script>\n  import * as d3 from 'd3';\n  export default {\n    data() {\n    return {\n      nodes: [\n          { id: 0, name: 'A' },\n          { id: 1, name: 'B' },\n          { id: 2, name: 'C' },\n          { id: 3, name: 'D' },\n          { id: 4, name: 'E' }\n          ],\n      links: [\n          { source: 0, target: 1 },\n          { source: 1, target: 2 },\n          { source: 2, target: 3 },\n          { source: 3, target: 4 },\n          { source: 4, target: 0 },\n          { source: 0, target: 3 }\n          \n        ],\n      width: 500,\n      height: 500,\n      simulation: null,\n      link: null,\n      node: null,\n      label: null,\n    };\n  },\n  mounted() {\n    this.initGraph();\n  },\n  methods: {\n    initGraph() {\n      // 创建力导向布局算法\n      this.simulation = d3.forceSimulation(this.nodes)\n        .force(\"link\", d3.forceLink(this.links).id((d) => d.id).distance(100).strength(1).direction(\"target\"))\n        .force(\"charge\", d3.forceManyBody().strength(-500))\n        .force(\"center\", d3.forceCenter(150, 150));\n\n      // 创建SVG元素\n      const svg = d3.select(this.$refs.svg);\n\n       // 创建边\n      this.link = svg\n        .selectAll(\"line\")\n        .data(this.links)\n        .enter()\n        .append(\"line\")\n        .attr(\"stroke\", \"#999\")\n        .attr(\"marker-end\", \"url(#arrow)\");\n      \n      // 创建节点\n      this.node = svg\n        .selectAll(\"circle\")\n        .data(this.nodes)\n        .enter()\n        .append(\"circle\")\n        .attr(\"r\", 20)\n        .attr(\"fill\", \"lightblue\")\n        .call(\n          d3\n            .drag()\n            .on(\"start\", this.dragstart)\n            .on(\"drag\", this.dragged)\n            .on(\"end\", this.dragend)\n        );\n\n        // 添加文本标签\n      this.label = svg\n        .selectAll(null)\n        .data(this.nodes)\n        .enter()\n        .append(\"text\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", \"12px\")\n        .attr(\"dy\", \"-1.5em\")\n        .text((d) => d.name);\n\n      // 将节点和边绑定到力导向布局\n      this.simulation.nodes(this.nodes).on(\"tick\", this.ticked);\n      this.simulation.force(\"link\").links(this.links);\n    },\n    ticked() {\n      this.link\n        .attr(\"x1\", (d) => d.source.x)\n        .attr(\"y1\", (d) => d.source.y)\n        .attr(\"x2\", (d) => d.target.x)\n        .attr(\"y2\", (d) => d.target.y);\n      this.node\n        .attr('cx', d => d.x)\n        .attr('cy', d => d.y);\n      this.label\n        .attr('x', d => d.x)\n        .attr('y', d => d.y);\n    } ,\n    dragstart(d) {\n      if (!d3.event.active) this.simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    },\n    dragged(d) {\n      d.x = d3.event.x;\n      d.y = d3.event.y;\n    },\n    dragend(d) {\n      if (!d3.event.active) this.simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n    }\n  }\n  \n\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}