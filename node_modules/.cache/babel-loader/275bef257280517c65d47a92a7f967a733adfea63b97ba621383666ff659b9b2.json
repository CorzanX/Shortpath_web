{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      fileList: []\n    };\n  },\n  methods: {\n    beforeUpload(file) {\n      // 只接受txt文件\n      const isTxt = file.type === 'text/plain';\n      if (!isTxt) {\n        this.$message.error('只能上传txt文件');\n      }\n      return isTxt;\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePreview(file) {\n      console.log(file);\n    },\n    handleExceed(files, fileList) {\n      this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n    },\n    beforeRemove(file, fileList) {\n      return this.$confirm(`确定移除 ${file.name}？`);\n    },\n    handleSuccess(response, file, fileList) {\n      const reader = new FileReader();\n      reader.readAsText(file.raw); // 将文件读取为文本\n      reader.onload = () => {\n        const fileContent = reader.result;\n        axios.post('/your/backend/url', {\n          content: fileContent\n        }).then(response => {\n          // 处理后端返回的响应\n        });\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","data","fileList","methods","beforeUpload","file","isTxt","type","$message","error","handleRemove","console","log","handlePreview","handleExceed","files","warning","length","beforeRemove","$confirm","name","handleSuccess","response","reader","FileReader","readAsText","raw","onload","fileContent","result","post","content","then"],"sources":["src/components/Algcmp_stp.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>example</h1>\n        <el-upload\n            class=\"upload-demo\"\n            action=\"http://localhost:8088/cmp\"\n            :on-success=\"handleSuccess\"\n            :on-preview=\"handlePreview\"\n            :on-remove=\"handleRemove\"\n            :before-remove=\"beforeRemove\"\n            :before-upload=\"beforeUpload\"\n            multiple\n            :limit=\"1\"\n            :on-exceed=\"handleExceed\"\n            :file-list=\"fileList\">\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n            <div slot=\"tip\" class=\"el-upload__tip\">只能上传txt文件，且不超过500kb</div>\n        </el-upload>\n    </div>\n</template>\n\n\n<script>\n  import axios from 'axios';\n  export default {\n    data() {\n      return {\n        fileList: []\n      };\n    },\n    methods: {\n      beforeUpload(file) {\n        // 只接受txt文件\n        const isTxt = file.type === 'text/plain';\n        if (!isTxt) {\n          this.$message.error('只能上传txt文件');\n        }\n        return isTxt;\n      },\n      handleRemove(file, fileList) {\n        console.log(file, fileList);\n      },\n      handlePreview(file) {\n        console.log(file);\n      },\n      handleExceed(files, fileList) {\n        this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n      },\n      beforeRemove(file, fileList) {\n        return this.$confirm(`确定移除 ${ file.name }？`);\n      },\n      handleSuccess(response, file, fileList) {\n        const reader = new FileReader();\n        reader.readAsText(file.raw); // 将文件读取为文本\n        reader.onload = () => {\n          const fileContent = reader.result;\n          axios.post('/your/backend/url', { content: fileContent }).then((response) => {\n            // 处理后端返回的响应\n          });\n        };\n      },\n    }\n  }\n</script>"],"mappings":"AAuBA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAAC,IAAA;MACA;MACA,MAAAC,KAAA,GAAAD,IAAA,CAAAE,IAAA;MACA,KAAAD,KAAA;QACA,KAAAE,QAAA,CAAAC,KAAA;MACA;MACA,OAAAH,KAAA;IACA;IACAI,aAAAL,IAAA,EAAAH,QAAA;MACAS,OAAA,CAAAC,GAAA,CAAAP,IAAA,EAAAH,QAAA;IACA;IACAW,cAAAR,IAAA;MACAM,OAAA,CAAAC,GAAA,CAAAP,IAAA;IACA;IACAS,aAAAC,KAAA,EAAAb,QAAA;MACA,KAAAM,QAAA,CAAAQ,OAAA,uBAAAD,KAAA,CAAAE,MAAA,aAAAF,KAAA,CAAAE,MAAA,GAAAf,QAAA,CAAAe,MAAA;IACA;IACAC,aAAAb,IAAA,EAAAH,QAAA;MACA,YAAAiB,QAAA,SAAAd,IAAA,CAAAe,IAAA;IACA;IACAC,cAAAC,QAAA,EAAAjB,IAAA,EAAAH,QAAA;MACA,MAAAqB,MAAA,OAAAC,UAAA;MACAD,MAAA,CAAAE,UAAA,CAAApB,IAAA,CAAAqB,GAAA;MACAH,MAAA,CAAAI,MAAA;QACA,MAAAC,WAAA,GAAAL,MAAA,CAAAM,MAAA;QACA7B,KAAA,CAAA8B,IAAA;UAAAC,OAAA,EAAAH;QAAA,GAAAI,IAAA,CAAAV,QAAA;UACA;QAAA,CACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}