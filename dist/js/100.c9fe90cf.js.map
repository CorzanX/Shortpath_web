{"version":3,"file":"js/100.c9fe90cf.js","mappings":"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","sources":["webpack://corzanx/./src/components/Compare/Algcmp_upload.vue","webpack://corzanx/src/components/Compare/Algcmp_upload.vue","webpack://corzanx/./src/components/Compare/Algcmp_upload.vue?9de9","webpack://corzanx/./src/components/Compare/Algcmp_upload.vue?6d24","webpack://corzanx/./src/components/directed_graph.vue","webpack://corzanx/src/components/directed_graph.vue","webpack://corzanx/./src/components/directed_graph.vue?6076","webpack://corzanx/./src/components/directed_graph.vue?0805","webpack://corzanx/./src/components/undirected_graph.vue","webpack://corzanx/src/components/undirected_graph.vue","webpack://corzanx/./src/components/undirected_graph.vue?0767","webpack://corzanx/./src/components/undirected_graph.vue?b938"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\"Please upload the txt file in this format\")]),_c('h1',[_vm._v(\"example\")]),_vm._m(0),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"http://www.corzanx.com:8088/cmp\",\"on-success\":_vm.handleSuccess,\"before-upload\":_vm.beforeUpload}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"upload\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"Only txt files can be uploaded and should not exceed 500kb\")])],1),(_vm.txtData)?_c('div',[(_vm.flag === 1)?_c('div',[_c('undirected_graph',{attrs:{\"parentHeight\":500,\"parentWidth\":500,\"links\":_vm.links,\"nodes\":_vm.nodes}})],1):_c('div',[_c('directed_graph',{attrs:{\"links\":_vm.links,\"nodes\":_vm.nodes}})],1),_c('h1',[_vm._v(\"Adjacency Matrix\")]),_c('p',{staticStyle:{\"white-space\":\"pre-wrap\",\"font-family\":\"Courier New\"}},[_vm._v(_vm._s(_vm.txtData))]),_c('div',[_c('el-input',{attrs:{\"placeholder\":\"Please enter a starting point\"},model:{value:(_vm.input_start),callback:function ($$v) {_vm.input_start=$$v},expression:\"input_start\"}}),_c('el-input',{attrs:{\"placeholder\":\"Please enter an end point\"},model:{value:(_vm.input_end),callback:function ($$v) {_vm.input_end=$$v},expression:\"input_end\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"Submit\")])],1),(_vm.stp)?_c('div',[_c('p',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.stp))])]):_vm._e()]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" directed\"),_c('br'),_vm._v(\" vertex a\"),_c('br'),_vm._v(\" vertex b\"),_c('br'),_vm._v(\" vertex c\"),_c('br'),_vm._v(\" vertex d\"),_c('br'),_vm._v(\" edge a b 24\"),_c('br'),_vm._v(\" edge b d 2\"),_c('br'),_vm._v(\" edge c b 6\"),_c('br'),_vm._v(\" edge d c 11\"),_c('br')])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n\n        <h1>Please upload the txt file in this format</h1>\n        <h1>example</h1>\n        <p>\n          directed<br>\n          vertex a<br>\n          vertex b<br>\n          vertex c<br>\n          vertex d<br>\n          edge a b 24<br>\n          edge b d 2<br>\n          edge c b 6<br>\n          edge d c 11<br>\n          </p>\n        <el-upload\n            class=\"upload-demo\"\n            action=\"http://www.corzanx.com:8088/cmp\"\n            :on-success=\"handleSuccess\"\n            :before-upload=\"beforeUpload\"\n            >\n            <el-button size=\"small\" type=\"primary\">upload</el-button>\n            <div slot=\"tip\" class=\"el-upload__tip\">Only txt files can be uploaded and should not exceed 500kb</div>\n        </el-upload>\n        <div v-if=\"txtData\">\n          <div v-if=\"flag === 1\">\n            <undirected_graph :parentHeight=\"500\" :parentWidth=\"500\" :links=\"links\" :nodes=\"nodes\"/>\n          </div>\n          <div v-else>\n            <directed_graph :links=\"links\" :nodes=\"nodes\"/>\n          </div>\n          <h1>Adjacency Matrix</h1>\n          <p   style=\"white-space: pre-line; white-space: pre-wrap;font-family: Courier New ;\">{{txtData}}</p>\n          <div>\n            <el-input v-model=\"input_start\"  placeholder=\"Please enter a starting point\"></el-input>\n            <el-input v-model=\"input_end\" placeholder=\"Please enter an end point\"></el-input>\n            <el-button type=\"primary\" @click=\"handleSubmit\">Submit</el-button>\n          </div>\n          <div v-if=\"stp\">\n            <p style=\"white-space: pre-line; white-space: pre-wrap;\">{{stp}}</p>\n          </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\n  import axios from 'axios';\n  import undirected_graph from '../undirected_graph.vue';\n  import directed_graph from '../directed_graph.vue'\n  export default {\n    components:{\n        undirected_graph,directed_graph\n      },\n    data() {\n      return {\n        nodes: [],\n        links: [],\n        input_start: '',\n        input_end: '',\n        stp: '',\n        flag: -1,\n        txtData: ''\n      };\n    },\n    methods: {\n      beforeUpload(file) {\n        // 只接受txt文件\n        const isTxt = file.type === 'text/plain';\n        if (!isTxt) {\n          this.$message.error('只能上传txt文件');\n        }\n        return isTxt;\n      },\n      handleSuccess(response,file) {\n        const graphData = response;\n        if (!graphData) {\n          // 处理 graphData 不存在的情况，比如给 nodes 和 links 赋一个空数组\n          this.nodes = [];\n          this.links = [];\n          return;\n        }\n        this.nodes = Object.values(graphData.nodes).map(node => ({ id: node.id, name: node.name }));\n        this.links = Object.values(graphData.links).map(link => ({ source: link.source, target: link.target, weight: link.weight }));\n        this.txtData = graphData.adjacencyMatrixString;\n        this.flag = graphData.flag;\n      },\n\n      handleSubmit() {\n        const formData = new FormData();\n        formData.append('input_start', this.input_start);\n        formData.append('input_end', this.input_end);\n\n        this.$http.post('/getstp', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        })\n        .then(response => {\n          // 处理响应\n          this.stp = response.data;\n          console.log(response);\n        })\n        .catch(error => {\n          // 处理错误\n          console.error(error);\n        });\n      }\n      \n    }\n  }\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Algcmp_upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Algcmp_upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Algcmp_upload.vue?vue&type=template&id=d8b97540&\"\nimport script from \"./Algcmp_upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Algcmp_upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('svg',{ref:\"graph\",attrs:{\"width\":\"200\",\"height\":\"200\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <svg ref=\"graph\" width=\"200\" height=\"200\"></svg>\n  </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\n\nexport default {\n  props: {\n    nodes: {\n      type: Array,\n      required: true,\n    },\n    links: {\n      type: Array,\n      required: true,\n    }\n  },\n  mounted() {\n    this.drawGraph();\n  },\n  methods: {\n    drawGraph() {\n      const svg = d3.select(this.$refs.graph);\n\n      const simulation = d3.forceSimulation()\n        .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n        .force(\"charge\", d3.forceManyBody().strength(-500))\n        .force(\"center\", d3.forceCenter(svg.attr(\"width\") / 2, svg.attr(\"height\") / 2));\n\n      \n\n      const link = svg.append(\"g\")\n        .selectAll(\"line\")\n        .data(this.links)\n        .enter().append(\"line\")\n        .attr(\"class\", \"link\")\n        .attr(\"stroke\", \"#999\")\n        .style(\"stroke-width\", \"2px\");\n\n      const node = svg.append(\"g\")\n        .selectAll(\"circle\")\n        .data(this.nodes)\n        .enter().append(\"circle\")\n        .attr(\"class\", \"node\")\n        .attr(\"r\", 15)\n        .attr(\"fill\", \"lightblue\")\n        .call(\n          d3\n            .drag()\n            .on(\"start\", dragstart)\n            .on(\"drag\", dragged)\n            .on(\"end\", dragend)\n        );\n\n        // 添加文本标签\n      const label = svg.append(\"g\")\n        .selectAll(null)\n        .data(this.nodes)\n        .enter()\n        .append(\"text\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", \"12px\")\n        .attr(\"dy\", \"-0em\")\n        .text((d) => d.name);\n\n      const weight_label = svg.append(\"g\")\n        .selectAll(null)\n        .data(this.links)\n        .enter()\n        .append(\"text\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", \"12px\")\n        .attr(\"dy\", \"-0.5em\")\n        .text((d) => d.weight);\n      \n      function update() {\n        node.attr(\"cx\", d => d.x)\n          .attr(\"cy\", d => d.y);\n\n        link.attr(\"x1\", function(d) { return d.source.x; })\n          .attr(\"y1\", function(d) { return d.source.y; })\n          .attr(\"x2\", function(d) { return d.target.x; })\n          .attr(\"y2\", function(d) { return d.target.y; });\n        label\n          .attr('x', d => d.x)\n          .attr('y', d => d.y);\n\n        weight_label\n          .attr('x',(d) => d.source.x*0.3+d.target.x*0.7)\n          .attr('y',(d) => d.source.y*0.3+d.target.y*0.7);\n      }\n\n      simulation.nodes(this.nodes).on(\"tick\", update);\n      simulation.force(\"link\").links(this.links);\n\n      svg.append(\"defs\").append(\"marker\")\n        .attr(\"id\", \"arrow\")\n        .attr(\"viewBox\", \"0 -5 10 10\")\n        .attr(\"refX\", 20)\n        .attr(\"refY\", 0)\n        .attr(\"markerWidth\", 6)\n        .attr(\"markerHeight\", 6)\n        .attr(\"orient\", \"auto\")\n        .append(\"path\")\n        .attr(\"d\", \"M0,-5L10,0L0,5\")\n        .attr(\"class\", \"arrow\");\n\n      link.attr(\"marker-end\", \"url(#arrow)\");\n      function dragstart(d) {\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n      }\n      function dragged(d) {\n        d.x = d3.event.x;\n        d.y = d3.event.y;\n      }\n      function dragend(d) {\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./directed_graph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./directed_graph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./directed_graph.vue?vue&type=template&id=3e1af834&\"\nimport script from \"./directed_graph.vue?vue&type=script&lang=js&\"\nexport * from \"./directed_graph.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('svg',{ref:\"svg\",attrs:{\"width\":_vm.parentWidth,\"height\":_vm.parentHeight}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <svg ref=\"svg\" :width=\"parentWidth\" :height=\"parentHeight\"></svg>\n  </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\n\nexport default {\n    name: 'undirected_graph',\n  props: {\n    nodes: {\n      type: Array,\n      required: true,\n    },\n    links: {\n      type: Array,\n      required: true,\n    },\n    parentWidth: Number,\n    parentHeight: Number,\n  },\n  mounted() {\n    this.initGraph();\n  },\n  methods: {\n    initGraph() {\n      // 创建力导向布局算法\n      this.simulation = d3.forceSimulation(this.nodes)\n        .force(\"link\", d3.forceLink(this.links).id((d) => d.id))\n        .force(\"charge\", d3.forceManyBody().strength(-500))\n        .force(\"center\", d3.forceCenter(this.parentWidth / 2, this.parentHeight / 2));\n\n      // 创建SVG元素\n      const svg = d3.select(this.$refs.svg);\n\n      // 创建边\n      this.link = svg\n        .selectAll(\"line\")\n        .data(this.links)\n        .enter()\n        .append(\"line\")\n        .attr(\"stroke\", \"#999\")\n        \n      \n      // 创建节点\n      this.node = svg\n        .selectAll(\"circle\")\n        .data(this.nodes)\n        .enter()\n        .append(\"circle\")\n        .attr(\"r\", 20)\n        .attr(\"fill\", \"lightblue\")\n        .call(\n          d3\n            .drag()\n            .on(\"start\", this.dragstart)\n            .on(\"drag\", this.dragged)\n            .on(\"end\", this.dragend)\n        );\n\n        // 添加文本标签\n      this.label = svg\n        .selectAll(null)\n        .data(this.nodes)\n        .enter()\n        .append(\"text\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", \"12px\")\n        .attr(\"dy\", \"-0em\")\n        .text((d) => d.name);\n      \n      this.weight_label  = svg\n        .selectAll(null)\n        .data(this.links)\n        .enter()\n        .append(\"text\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", \"12px\")\n        .attr(\"dy\", \"-0em\")\n        .text((d) => d.weight);\n\n      // 将节点和边绑定到力导向布局\n      this.simulation.nodes(this.nodes).on(\"tick\", this.ticked);\n      this.simulation.force(\"link\").links(this.links);\n    },\n    ticked() {\n      this.link\n        .attr(\"x1\", (d) => d.source.x)\n        .attr(\"y1\", (d) => d.source.y)\n        .attr(\"x2\", (d) => d.target.x)\n        .attr(\"y2\", (d) => d.target.y);\n      this.node\n        .attr('cx', d => d.x)\n        .attr('cy', d => d.y);\n      this.label\n        .attr('x', d => d.x)\n        .attr('y', d => d.y);\n      this.weight_label\n        .attr('x',(d) => (d.source.x+d.target.x)/2.0)\n        .attr('y',(d) => (d.source.y+d.target.y)/2.0)\n    } ,\n    dragstart(d) {\n      if (!d3.event.active) this.simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    },\n    dragged(d) {\n      d.x = d3.event.x;\n      d.y = d3.event.y;\n    },\n    dragend(d) {\n      if (!d3.event.active) this.simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./undirected_graph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./undirected_graph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./undirected_graph.vue?vue&type=template&id=770dfd62&\"\nimport script from \"./undirected_graph.vue?vue&type=script&lang=js&\"\nexport * from \"./undirected_graph.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_v","_m","staticClass","attrs","handleSuccess","beforeUpload","slot","txtData","flag","links","nodes","staticStyle","_s","model","value","input_start","callback","$$v","expression","input_end","on","handleSubmit","stp","_e","staticRenderFns","components","undirected_graph","directed_graph","data","methods","file","isTxt","type","$message","error","response","graphData","Object","values","map","node","id","name","link","source","target","weight","adjacencyMatrixString","formData","FormData","append","$http","post","headers","then","console","log","catch","component","ref","props","Array","required","mounted","drawGraph","svg","d3","$refs","graph","simulation","force","d","strength","attr","selectAll","enter","style","call","dragstart","dragged","dragend","label","text","weight_label","update","x","y","alphaTarget","restart","fx","fy","parentWidth","parentHeight","Number","initGraph","ticked"],"sourceRoot":""}